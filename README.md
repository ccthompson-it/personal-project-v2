# Client Side Rendering

Let's start to write some client side javascript! In this challenge we will be building a json api for CRUD functions on our database and calling them from our browser.

This repo is built on top of the Phase 1 boilerplate with the following changes.

 - Server side code (express and knex) has been moved into the `./server` folder. Have a look at `knexfile.js` and `package.json to see what needed to change
 - Webpack and Babel have been added to devDependencies to build our client side code in `./client`
## Install

```
npm install
npx knex migrate:latest
npx knex seed:run
npm run dev
```

# Be awesome, write tests for your api routes!

## List All Users

On the home page the list of users is being generated by handlebars. Change it so that your client side code gets the users from the api and renders them in the browser

## Add User Form

Create an express route for add new user but capture the form submit event and use superagent to call your `POST /users/` route. Redirect to the appropriate page based off the api response.

## Show User Details

Make each user a clickable link but instead of navigating to new express route, intercept the click event of the link and display the user details in a side bar.

## Delete User

In the sidebar create a button which deletes a user. Close the side bar and refresh the user list when the api call is successful.

## Edit User

In the sidebar create an edit user button which switches the user details for a form where they can be edited. Intercept the submit event of the form and send the user details to your api. Hide the sidebar and refresh the user list when it is successful.

# Stretch

Create a new handlebars route and do it all again to build a user interface to CRUD the favourites table

# Stretch Stretch

Edit your user forms so you have a checkbox item for each favourite. Figure out how to update the favourites_users table when the add / edit forms are submitted and how to display all the favourites a user has in the user details sidebar.

# Useful client side javascript

- [getElementById](https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementById)
- [querySelector](https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector)
- [innerHTML](https://developer.mozilla.org/en-US/docs/Web/API/Element/innerHTML)
- [addEventListener](https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener)
- [document.location](https://developer.mozilla.org/en-US/docs/Web/API/Document/location)
- [HTMLElement.style](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style)
- [FormData](https://developer.mozilla.org/en-US/docs/Web/API/FormData)
- [Data Attributes](https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes)




